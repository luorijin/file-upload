/*! camera v0.1.7 ~ (c) 2012-2016 zqhe@ewaytec.cn ~ http://gitlab.ewaytec.cn/frontend-components-team/camera.git */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.camera=t():e.camera=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="components/",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t="string"==typeof e?document.getElementById(e):e;if("object"!=("undefined"==typeof t?"undefined":l(t)))return null;var n=document.createElement("span");n.id="__tt__",t.parentNode.insertBefore(n,t);var o=document.createElement("form");o.appendChild(t),document.getElementsByTagName("body")[0].appendChild(o),o.reset(),n.parentNode.insertBefore(t,n),n.parentNode.removeChild(n),n=null,o.parentNode.removeChild(o)}function r(e,t){var n,o=e.file[0].files[0];void 0!=window.createObjectURL?n=window.createObjectURL(o):void 0!=window.URL?n=window.URL.createObjectURL(o):void 0!=window.webkitURL&&(n=window.webkitURL.createObjectURL(o)),e.img=new Image,e.img.src=n,e.img.style.visiblility="hidden",(0,c._getImgAngle)(n,e);var r=0;$(e.img).on("load",function(){if(console.log(r),0==r)t.onPreDealWithImg(),console.log("图片等待上传中..."),setTimeout(function(){r=1;var n=(0,p["default"])(e.img,t,e);t.onCompressed&&t.onCompressed(n),console.log("开始压缩图片")},0);else if(1==r)t.onPreDealWithImg(),console.log("开始旋转图片"),r=2,(0,c._imageRotation)(e.img,e,t),$(e.img).trigger("load");else{console.log("开始上传图片"),i(t.fileId);var n=new d["default"]({uploadUrl:t.uploadUrl,data:e.imgData,queueId:t.queueId,queueTemplate:t.queueTemplate,muiltupload:t.muiltupload,minWidth:"auto"==t.minWidth?100:t.minWidth,minHeight:"auto"==t.minHeight?100:t.minHeight,mode:null==t.mode?"":t.mode,fileExt:t.fileExt,onStart:t.onStart,onInit:t.onInit,onProgress:t.onProgress,onComplete:t.onComplete,onFailed:t.onFailed,onCanceled:t.onCanceled,showDeleteConfirm:t.showDeleteConfirm});n.init()}})}function a(e){this.file=$("#"+e),this.img=null,this.imgData=null,this.angle="0deg"}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};n(1);var s=n(6),d=o(s),u=n(9),p=o(u),c=n(10),g=function(e){var t={uploadUrl:"",uploadBtnId:"upload",drawImageBox:"uploader_content",uploaderInputId:"uploader_control",lineImageNum:4,belongedDataId:"",maxFileCount:1,item:null,submitBtnId:"submit",replace:!1,muiltupload:!0,fileTypeExts:"image/jpeg",_allowUpload:!0,_isUploading:!1,hideBtn:!0,mode:"Cut",_camera:null,onStart:function(){},onInit:function(e){return!0},onDelete:function(){},onProgress:function(){},onComplete:function(){},onSelect:function(){},onInitImageBox:function(){if($(".upload-pic-holder").length&&$("#"+this.drawImageBox).length){var e=document.getElementById(this.drawImageBox).clientWidth/this.lineImageNum,t=$(".upload-pic-holder").outerWidth(!0)-$(".upload-pic-holder").width(),n=e-t;$(".upload-pic-holder").css({width:n,height:n}),this.muiltupload?this.queueTemplate='<div class="upload-pic-holder" style="width:'+n+"px;height:"+n+'px"><div class="upload-pic-main"><div class="upload-pic-mask"><div class="upload-pic-progresswrap"><span class="upload-pic-info" data-queue="info"></span><div class="upload-pic-progress"><div data-queue="progress" class="upload-pic-bar" style="width: 0%;"></div></div></div></div><div class="pic-item-holder"><img src="" data-queue="thumb" data-auto-draft="Photos,img" /><div class="imgCover"></div></div><a class="upload-pic-delete" data-queue="cancel"></a></div> </div>':this.queueTemplate='<div class="upload-pic-holder" style="width:'+n+"px;height:"+n+'px"><div class="upload-pic-main"><div class="upload-pic-mask"><div class="upload-pic-progresswrap"><span class="upload-pic-info" data-queue="info"></span><div class="upload-pic-progress"><div data-queue="progress" class="upload-pic-bar" style="width: 0%;"></div></div></div></div><div class="pic-item-holder"><img src="" data-queue="thumb" data-auto-draft="Photos,img" /><div class="imgCover"></div></div></div> </div>'}else this.muiltupload||(this.queueTemplate='<div class="upload-pic-holder" style="margin:0"><div class="upload-pic-main"><div class="upload-pic-mask"><div class="upload-pic-progresswrap"><span class="upload-pic-info" data-queue="info"></span><div class="upload-pic-progress"><div data-queue="progress" class="upload-pic-bar" style="width: 0%;"></div></div></div></div><div class="pic-item-holder"><img src="" data-queue="thumb" data-auto-draft="Photos,img" /><div class="imgCover"></div></div></div> </div>');$(".upload-pic-holder").addClass("line"+this.lineImageNum)},queueTemplate:'<div class="upload-pic-holder"><div class="upload-pic-main"><div class="upload-pic-mask"><div class="upload-pic-progresswrap"><span class="upload-pic-info" data-queue="info"></span><div class="upload-pic-progress"><div data-queue="progress" class="upload-pic-bar" style="width: 0%;"></div></div></div></div><div class="pic-item-holder"><img src="" data-queue="thumb" data-auto-draft="Photos,img" /><div class="imgCover"></div></div></div> </div>'};t=$.extend(t,e),t.onInitImageBox(),t.item.Photos||(t.item.Photos=[]);var n={uploadBtnId:t.uploadBtnId,fileId:t.uploaderInputId,queueId:t.drawImageBox,queueTemplate:t.queueTemplate,uploadUrl:t.uploadUrl,width:"800",height:"800",minWidth:"300",minHeight:"300",mode:t.mode,quality:1,muiltupload:t.muiltupload,Control:!1,showDeleteConfirm:!!t.showDeleteConfirm&&t.showDeleteConfirm,onAfterDrawImage:function(){t._allowUpload=!1},onPreDealWithImg:function(){console.log("在图片预处理时，视为图片上传中，不能提交页面数据"),t._isUploading=!0,$("#"+t.submitBtnId).addClass("isUploading"),$("#"+t.submitBtnId).addClass("btn-disabled")},onSelect:function(){return t.item.Photos||(t.item.Photos=[]),t.replace&&(t.item.Photos=[]),t.onSelect(),t.item.Photos.length<t.maxFileCount?(console.log("settings._allowUpload",t._allowUpload),console.log("settings._isUploading",t._isUploading),t._allowUpload&&!t._isUploading?(console.log("可以上传"),!0):(console.log("请等待照片加载完成"),!1)):(console.log("最多只能添加"+t.maxFileCount+"张照片"),!1)},onStart:function(){if(t._isUploading=!0,t.muiltupload&&t.hideBtn){var e=t.maxFileCount/t.lineImageNum;t.item.Photos.length==t.maxFileCount-1?(document.getElementById(t.uploadBtnId).parentElement.style.display="none",Math.floor(e)==e&&(document.getElementById(t.uploadBtnId).parentElement.style.width="0%",document.getElementById(t.uploadBtnId).parentElement.style.height="0%")):(document.getElementById(t.uploadBtnId).parentElement.style.display="block",Math.floor(e)==e&&(document.getElementById(t.uploadBtnId).parentElement.style.width=t.boxSize+"px",document.getElementById(t.uploadBtnId).parentElement.style.height=t.boxSize+"px"))}$("#"+t.submitBtnId).addClass("isUploading"),t.onStart()},onDelete:function(){if(this.hideBtn){var e=this.maxFileCount/this.lineImageNum;this.item.Photos.length==this.maxFileCount?(document.getElementById(this.uploadBtnId).parentElement.style.display="none",Math.floor(e)==e&&(document.getElementById(this.uploadBtnId).parentElement.style.width="0%",document.getElementById(this.uploadBtnId).parentElement.style.height="0%")):(document.getElementById(this.uploadBtnId).parentElement.style.display="block",Math.floor(e)==e&&(document.getElementById(this.uploadBtnId).parentElement.style.width=this.boxSize+"px",document.getElementById(this.uploadBtnId).parentElement.style.height=this.boxSize+"px"))}},onInit:function(e){var n=t.onInit(e);return t._allowUpload=!n,n},onProgress:function(){t.onProgress()},onComplete:function(e){return t._allowUpload=!0,t._isUploading=!1,"0"==e.errcode&&($("#"+t.uploaderInputId).attr("data-src",e.info.fileName),$("#"+t.submitBtnId).removeClass("isUploading"),t.Control?setTimeout(function(){$("#"+t.drawImageBox).find(".upload-pic-mask").not(".chackson").hide()},1e3):setTimeout(function(){$("#"+t.drawImageBox).find(".upload-pic-mask").hide()},1e3)),"0"!==e.errcode||"OK"!==e.errmsg?(console.log("上传失败"),$("#"+t.drawImageBox).find(".upload-pic-holder *[data-queue='cancel']").last().trigger("click",!0),t.onDelete(),n.onDelete(),!1):(t.item.Photos||(t.item.Photos=[]),t.item.Photos.length<t.maxFileCount&&"0"==e.errcode&&t.item.Photos.push({ItemId:t.belongedDataId,guidblob:e.info.originalFileName,guid:e.info.originalFileName,BigPic:e.info.bigPic,BigPicUrl:e.info.bicPicUrl,SmallPic:e.info.smallPic,SmallPicUrl:e.info.smallPicUrl,ViewPath:e.info.viewPath,BicPicTwoUrl:e.info.bicPicTwoUrl,originalFileName:e.info.originalFileName,fileName:e.info.fileName,fileSize:e.info.fileSize,thumbFileName:e.info.thumbFileName,contentType:e.info.contentType,ItemPhotoId:-1}),t.item.Photos.length==t.maxFileCount?$("#"+t.submitBtnId).removeClass("btn-disabled"):t.item.Photos.length<t.maxFileCount?$("#"+t.submitBtnId).removeClass("btn-disabled"):$("#"+t.submitBtnId).addClass("btn-disabled"),$("*[data-queue='cancel']",t.queueTemplate).on("click",function(e){t.item.Photos.length=t.item.Photos.length-1,t.onDelete(),n.onDelete()}),void t.onComplete())},onCanceled:function(e){t._allowUpload=!0,$("#"+t.uploaderInputId).attr("data-src","");for(var o=t.item.Photos.length,i=$(e.target).parents(".upload-pic-holder").attr("id"),r=0;r<t.item.Photos.length;r++)t.item.Photos[r].guid==i&&t.item.Photos.splice(r,1);$("#"+t.submitBtnId).removeClass("btn-disabled"),o==t.item.Photos.length&&(t._isUploading=!1,$("#"+t.submitBtnId).removeClass("isUploading")),t.onDelete(),n.onDelete()},onFailed:function(){t._allowUpload=!0,t._isUploading=!1,$("#"+t.submitBtnId).removeClass("btn-disabled isUploading")}},o=new a(n.fileId);return o.init=function(){if(n.uploadBtnId.indexOf(",")>-1){for(var e=n.uploadBtnId.split(","),i=0,a=e.length;i<a;i++)e[i]="#"+e[i];n.uploadBtnId=e.join(",")}else n.uploadBtnId="#"+n.uploadBtnId;$(n.uploadBtnId).on("click",function(e){e.stopPropagation(),n.onSelect()?o.file.click():console.log("不通过onselect的判断")}),t._camera=o,o.file.on("change",function(){var e=this.files[0].name,i=this.files[0].type;if(t._isUploading=!0,console.log("选择图片"+e),""!=e){var a=(e.substring(e.lastIndexOf("\\")+1),e.substring(e.lastIndexOf(".")).toLowerCase());if(i){if(".jpg"!=a&&".gif"!=a&&".png"!=a&&".jpeg"!=a)return console.log("文件格式不是图片,请重新上传"),t._isUploading=!1,$("#submitBtn").removeClass("btn-disabled"),$("#"+t.uploaderInputId).attr("data-src",""),document.getElementById(""+t.uploaderInputId).value="",!1;n.fileExt=a,r(o,n),n.onAfterDrawImage()}else{var l=this.files[0],s=new FileReader;s.onloadend=function(e){for(var i=new Uint8Array(e.target.result).subarray(0,4),l="",s=0;s<i.length;s++)l+=i[s].toString(16);var d="";switch(l){case"89504e47":d="image/png",a=".png";break;case"47494638":d="image/gif",a=".gif";break;case"ffd8ffe0":case"ffd8ffe1":case"ffd8ffe2":d="image/jpeg",a=".jpeg";break;default:return d="unknown",console.log("文件格式不是图片,请重新上传"),t._isUploading=!1,$("#submitBtn").removeClass("btn-disabled"),$("#"+t.uploaderInputId).attr("data-src",""),document.getElementById(""+t.uploaderInputId).value="",!1}d&&"unknown"!=d&&(n.fileExt=a,r(o,n),n.onAfterDrawImage())},s.readAsArrayBuffer(l)}}})},o.init(),{isAllowUpload:function(){return t._allowUpload},clearItems:function(){t.item={}},getItems:function(){return t.item},getMaxFileCount:function(){return t.maxFileCount}}};t["default"]=g,e.exports=t["default"]},function(e,t,n){var o=n(2);"string"==typeof o&&(o=[[e.id,o,""]]);n(5)(o,{});o.locals&&(e.exports=o.locals)},function(e,t,n){t=e.exports=n(3)(),t.push([e.id,".camera-btn{\r\n    display: inline-block;\r\n    width: 100%;\r\n    height: 100%;\r\n    box-sizing: border-box;\r\n    vertical-align: middle;\r\n    text-align: center;\r\n    position: relative;\r\n    background: url("+n(4)+") center no-repeat;\r\n    background-size: contain;\r\n    \r\n}\r\n\r\n.upload-transparent-input{\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    width: 64px;\r\n    height: 64px;\r\n    opacity: 0;\r\n    z-index: -1;\r\n}\r\n\r\n.upload-wrapper{\r\n    padding: 8px;\r\n    background-color: #FFFFFF;\r\n}\r\n.upload-wrapper:after{\r\n    content: '';\r\n    display: block;\r\n    clear: both;\r\n}\r\n\r\n.upload-wrapper .up-btn,\r\n.upload-wrapper .up-item\r\n{\r\n    width: 64px;\r\n    height: 64px;\r\n    float: left;\r\n    margin: 6px;\r\n}\r\n.upload-wrapper .up-item{\r\n    position: relative;\r\n}\r\n.upload-wrapper .up-progress-mask{\r\n    background-color: rgba(0,0,0,0.6);\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    line-height: 64px;\r\n    text-align: center;\r\n    color: #FFFFFF;\r\n    font-size: 12px;\r\n    display: none;\r\n}\r\n.upload-wrapper .up-progress-mask.on{\r\n    display: block;\r\n}\r\n\r\n.upload-wrapper img{\r\n    width: 64px;\r\n    height: 64px;\r\n    vertical-align: middle;\r\n}\r\n.upload-wrapper .up-del{\r\n    position: absolute;\r\n    z-index: 777;\r\n    height: 20px;\r\n    width: 20px;\r\n    border-radius: 10px;\r\n    -webkit-border-radius: 10px;\r\n    color: #FFFFFF;\r\n    background-color: #F97642; \r\n    line-height:87%;\r\n    overflow:hidden;\r\n    text-align: center;\r\n    top: -8px;\r\n    right: -8px;\r\n    font-size:20px;\r\n}\r\n\r\n/*单个图片模式*/\r\n.upload-wrapper.single{\r\n    padding: 0;\r\n    background-color: transparent;\r\n    display: inline-block;\r\n    width: 64px;\r\n    height: 64px;\r\n    margin-right: 12px;\r\n    vertical-align: middle;\r\n}\r\n.upload-wrapper.single .up-item{\r\n    margin: 0;\r\n}\r\n.upload-wrapper.single .up-img-holder{\r\n    height: 64px;\r\n}\r\n.upload-wrapper.single img{\r\n    vertical-align: baseline;\r\n}\r\n\r\n\r\n\r\n\r\n/* ============================================================\r\n    拍照样式\r\n ============================================================ */\r\n\r\n\r\n.upload-pic-holder {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: inline-block;\r\n    float:left;\r\n    margin: 0.1125rem;\r\n}\r\n\r\n.upload-pic-main {\r\n    height: 100%;\r\n    position: relative;\r\n}\r\n\r\n .upload-pic-mask {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: absolute;\r\n    display: block;\r\n    background: rgba(0,0,0,0.6);\r\n    z-index: 777;\r\n    color: white;\r\n    font-weight: bold;\r\n    text-align: center;\r\n    vertical-align: middle;\r\n    // line-height: 70px;\r\n}\r\n\r\n .upload-pic-mask .upload-pic-progresswrap {\r\n    width: 100%;\r\n    height: 100%;\r\n    line-height: 100%;\r\n}\r\n\r\n .upload-pic-mask .upload-pic-progresswrap .upload-pic-info {\r\n    font-size: 12px;\r\n    font-weight: normal;\r\n}\r\n\r\n .pic-item-holder{\r\n    width:100%;\r\n    height:100%;\r\n}\r\n\r\n .upload-pic-main .pic-item-holder img {\r\n    vertical-align: middle;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    -webkit-transform: translate(-50%,-50%);\r\n            transform: translate(-50%,-50%);\r\n    width: 100%;\r\n    max-height: 100%;\r\n    background-size:cover;\r\n    background-position: center center;\r\n    display:none;\r\n}\r\n\r\n .upload-pic-main .upload-pic-delete {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 0;\r\n    z-index: 888;\r\n    width: 1rem;\r\n    height: 1rem;\r\n    display: inline-block;\r\n    background-color:#b0ac9d;\r\n    background-size:contain;    \r\n}\r\n\r\n.upload-pic-info{\r\n    position: relative;\r\n    top: 50%;\r\n    left: 50%;\r\n    -webkit-transform: translate(-50%,-50%);\r\n            transform: translate(-50%,-50%);\r\n}\r\n/* 上传图片按钮+&文字配置 */\r\n.upload-word {\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n    top: 50%;\r\n    left: 50%;\r\n    -webkit-transform: translate(-50%,-50%);\r\n            transform: translate(-50%,-50%);\r\n    background-size: contain;\r\n    border:1px solid #dbdee1;\r\n}\r\n\r\n.line-1{\r\n    width:41%;\r\n    height:0.1rem;\r\n    background-color:#aab4bd;\r\n    position:absolute;\r\n    left:50%;\r\n    top:36%;\r\n    -webkit-transform:translate3d(-50%,-50%,0);\r\n            transform:translate3d(-50%,-50%,0);\r\n\r\n}\r\n\r\n.line-2{\r\n    width:41%;\r\n    height:0.1rem;\r\n    background-color:#aab4bd;\r\n    position:absolute;\r\n    top:36%;\r\n    left:50%;\r\n    -webkit-transform:translate3d(-50%,-50%,0) rotate(90deg);\r\n            transform:translate3d(-50%,-50%,0) rotate(90deg);\r\n}\r\n\r\n.line-word{\r\n    color:#aab4bd;\r\n    position:absolute;\r\n    top:75%;\r\n    left:50%;\r\n    width:100%;\r\n    -webkit-transform:translate(-50%,-50%);\r\n            transform:translate(-50%,-50%);\r\n    text-align: center;\r\n}\r\n\r\n.upBox{\r\n    position:relative;\r\n    top:50%;\r\n    left:50%;\r\n    -webkit-transform:translate(-50%,-50%);\r\n            transform:translate(-50%,-50%);\r\n    width:100%;\r\n    height:100%;\r\n}\r\n\r\n.line1 .line-word{\r\n    font-size:2rem;\r\n}\r\n\r\n.line2 .line-word{\r\n    font-size:1rem;\r\n}\r\n\r\n.line3 .line-word{\r\n    font-size:.6rem;\r\n}\r\n\r\n.line4 .line-word{\r\n    font-size:.6rem;\r\n}\r\n\r\n.line5 .line-word{\r\n    font-size:.4rem;\r\n}\r\n\r\n.line6 .line-word{\r\n    font-size:.4rem;\r\n}\r\n\r\n/* 单+号 */\r\n\r\n.singlePlus .line-1{\r\n    width:41%;\r\n    height:0.2rem;\r\n    background-color:#aab4bd;\r\n    position:absolute;\r\n    left:50%;\r\n    top:50%;\r\n    -webkit-transform:translate3d(-50%,-50%,0);\r\n            transform:translate3d(-50%,-50%,0);\r\n\r\n}\r\n\r\n.singlePlus .line-2{\r\n    width:41%;\r\n    height:0.2rem;\r\n    background-color:#aab4bd;\r\n    position:absolute;\r\n    top:50%;\r\n    left:50%;\r\n    -webkit-transform:translate3d(-50%,-50%,0) rotate(90deg);\r\n            transform:translate3d(-50%,-50%,0) rotate(90deg);\r\n}",""])},function(e,t){/*
		MIT License http://www.opensource.org/licenses/mit-license.php
		Author Tobias Koppers @sokra
	*/
e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},i=0;i<this.length;i++){var r=this[i][0];"number"==typeof r&&(o[r]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&o[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RjVDMkQ2QjM2Mjg1MTFFNTlENEU5MDI2MkUzQjg4RTAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RjVDMkQ2QjQ2Mjg1MTFFNTlENEU5MDI2MkUzQjg4RTAiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpGNUMyRDZCMTYyODUxMUU1OUQ0RTkwMjYyRTNCODhFMCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpGNUMyRDZCMjYyODUxMUU1OUQ0RTkwMjYyRTNCODhFMCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhRmSNgAAARxSURBVHja7J1XaBRRGIXvWkGJXVGQqPhgQVGxYEXBWBMsiWJH0Sfbk4rGhoqYBCyIYHuy94KKHV0So0hQEXwQRAR9ELGBXaIxnp/9F65j1sSU2bs758CX2ZncnRnm5JZzZ3YTCocflpo/FbJee3/HMjVcpo4u74L8Mt6UZ8oXy1RPmf5gaAg1xFBOaAXIqcXr4IxypRmjIY6plnYoObwU7hhCudOHlNIQ1hCKhtAQqrKq44nwFGsIxWDIYEixyWIwpFhDaAhFQxgMKdYQisGQwZBik8VgSLGG0BCKhjAYUoGpIfXAJvBWh9uu8xwMS+ZguAFkg+YJ8gebCrb63WSVqjvZPhxvvi6HgJeOm5EC5KMBXf02xE810uULxWU11mV9H4MhP47AYS9FQ2gIxWBYAbUDq0EX8ABsBK9dNCQIagoKQVtdHwSGg97guyPnKNEjNyhN1lTLjKgkX6S72IcE4Y5hyxjbm7FTj4+umL+/UeEnCDt0jglzx3AEOAgGVGEfRWAJKNb1z2AeeMpO/f80HpwwkVniTDAGFFRyX9vAftABPAGfmEMqb4aoAbgEBldhn+/BfVfNcNkQrxmvdNlQTRmYzEldgmG2Q+c0wWPGadBRl6IUNaV/shrikiaC4x4zpoOvuryg2xvryKlvEnnh3KOkYsYxy4xTYJo1MpLlJHDZMuWapu2kqiEuBMNMjxkn1YwfnnJiSha4rutN1JReFThGbbAIzGKTVb4ZRy0zjqsZP2OU/6b9TL6VtsWUHv84hozQzoAd4ICJTCy6JieCYZbHDKklM0BJOe+TPkXmoQp1vYXWmm5llJUHKm6Acda2VY4NZJyoIWLGEcsMMWZmBcyI6gvIMJHvixS11AtvP5TQHty2RmTvrCkUeRxpMQ0pu2Yc1ra95D/38wGMBvd0vZWa0hn0BHdAJ/3dM9APLLXevx3MpSHGbAF19bXMU82uhBm2KaNM5JEdUWtwU6dY2ui2R5rwxRR5zmqdbpcMthdMccWQeN0xjB5T5pbmVcEMe0pkpBrRzTLCaJOWrmWiWq8Bc4mOvg7oYOF8kPuQfdVkRlRvTOQu4GNrm3T0aR4zoloG9ujrejo7kBbUYJilbXdJNe/3tV7UU9osZmjnX5akc18ADum6PBB3zkRu7wYuGN4zsb+Cu6qSR1Qna+ddXE7ZX2AOOGvllYugT5CDYbwltVTuuV+1pmRk8rJ7EIOhKyrWGYMCK9OcZQ2Jr75qmi+y0j8NibMk04wFO02c5rtoyN+S6ZWFYHOQgiH1D0P81EcT+dBOqnH/iZcU65z9Coa5fl+UXWA5uJVAf7S7kzkYrtVjvUuQvkTOdU0yd+oy3l+pQ8qQ47TQcy326dowGLooGkJDKBqSYDmEwZA1hIoRDPmtpC7WEH4rKZssisGQNYSiITSEYjBkDaEYDBkMGQzZZFEMhqwhFA2hIRSDIWsIxWDIYEixyaIYDBNilOXV8hhl81imRssMlR+hcPih918exfr8uD08ZpkaKvNbgAEArhQn1kpgPOgAAAAASUVORK5CYII="},function(e,t,n){function o(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=g[o.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](o.parts[r]);for(;r<o.parts.length;r++)i.parts.push(d(o.parts[r],t))}else{for(var a=[],r=0;r<o.parts.length;r++)a.push(d(o.parts[r],t));g[o.id]={id:o.id,refs:1,parts:a}}}}function i(e){for(var t=[],n={},o=0;o<e.length;o++){var i=e[o],r=i[0],a=i[1],l=i[2],s=i[3],d={css:a,media:l,sourceMap:s};n[r]?n[r].parts.push(d):t.push(n[r]={id:r,parts:[d]})}return t}function r(e,t){var n=m(),o=y[y.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),y.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=y.indexOf(e);t>=0&&y.splice(t,1)}function l(e){var t=document.createElement("style");return t.type="text/css",r(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",r(e,t),t}function d(e,t){var n,o,i;if(t.singleton){var r=v++;n=b||(b=l(t)),o=u.bind(null,n,r,!1),i=u.bind(null,n,r,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),o=c.bind(null,n),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=l(t),o=p.bind(null,n),i=function(){a(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else i()}}function u(e,t,n,o){var i=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=w(t,i);else{var r=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function p(e,t){var n=t.css,o=t.media;if(o&&e.setAttribute("media",o),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function c(e,t){var n=t.css,o=t.sourceMap;o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([n],{type:"text/css"}),r=e.href;e.href=URL.createObjectURL(i),r&&URL.revokeObjectURL(r)}/*
		MIT License http://www.opensource.org/licenses/mit-license.php
		Author Tobias Koppers @sokra
	*/
var g={},f=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},h=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=f(function(){return document.head||document.getElementsByTagName("head")[0]}),b=null,v=0,y=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=h()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=i(e);return o(n,t),function(e){for(var r=[],a=0;a<n.length;a++){var l=n[a],s=g[l.id];s.refs--,r.push(s)}if(e){var d=i(e);o(d,t)}for(var a=0;a<r.length;a++){var s=r[a];if(0===s.refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete g[s.id]}}}};var w=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var _guid=__webpack_require__(7),_guid2=_interopRequireDefault(_guid),_dataURLtoBlob=__webpack_require__(8),_dataURLtoBlob2=_interopRequireDefault(_dataURLtoBlob),upload=function upload(options){var settings=$.extend({uploadUrl:"",minWidth:"100",minHeight:"100",mode:"",data:"",slicesize:10240,queueId:"",queueTemplate:"",fileExt:"",muiltupload:!0,showDeleteConfirm:!0,onStart:function(){},onInit:function(){},onProgress:function(){},onComplete:function(){},onFailed:function(){},onCanceled:function(){}},options),_createQueue=function(){console.log("创建上传进度提示"),_upload.queueHtml=$(settings.queueTemplate).prop("id",_upload.guid);var e=$("#"+settings.queueId);if(settings.muiltupload)if(0!==e.find(".anotherUploadBtn").length){$("#multiUpload").addClass("multiUpload"),e.show();var t=e.find(".anotherUploadBtn");t.before(_upload.queueHtml)}else e.css("display","block"),e.append(_upload.queueHtml);else e.css("display","block"),e.html(_upload.queueHtml);$(".imgCover",_upload.queueHtml).attr("style","background:url("+_upload.data+");width:100%;height:100%;background-size:cover;background-position:center center;background-repeat:no-repeat;"),$("*[data-queue='cancel']",_upload.queueHtml).on("click",function(e,t){1==t?settings.showDeleteConfirm=!1:settings.showDeleteConfirm,settings.showDeleteConfirm||_upload.uploadCancel(e)})},_upload={data:settings.data,guidblob:"",totalsize:0,guid:0,blob_start:0,blob_end:0,nextaction_paras:0,uploadStatus:0,queueHtml:""};return _upload.init=function(){console.log("初始化上传"),_upload.uploadStatus=0,_upload.guid=(0,_guid2["default"])(),_upload.guidblob=(0,_dataURLtoBlob2["default"])(settings.data),_upload.totalsize=_upload.guidblob.size,settings.onInit(_upload)&&(_createQueue(),settings.onStart(),_upload.uploadFile(0))},_upload.uploadStart=function(){_upload.uploadFile(0)},_upload.uploadCancel=function(e){_upload.uploadStatus=3,_upload.queueHtml.remove(),settings.onCanceled(e)},_upload.uploadProgress=function(e){if(3!=_upload.uploadStatus){var t=Math.round(100*((Number(e.loaded)||0)+this.blob_start)/this.totalsize);$("*[data-queue='progress']",_upload.queueHtml).width(t+"%"),$("*[data-queue='info']",_upload.queueHtml).html(t+"%").css("display","block"),settings.onProgress(t)}else console.log("--------------已经取消的了"),_upload.blob_end=null},_upload.uploadComplete=function(evt){if(_upload.blob_end>=_upload.totalsize){var result=eval("("+evt.target.responseText+")");"OK"==result.errmsg&&"0"==result.errcode?($("*[data-queue='progress']",_upload.queueHtml).width("100%"),$("*[data-queue='info']",_upload.queueHtml).html("上传成功").css("display","block")):$("*[data-queue='info']",_upload.queueHtml).html("上传失败").css("display","block"),"OK"==result.errmsg&&"0"==result.errcode&&$("img[data-queue='thumb']",_upload.queueHtml).attr({guid:result.info.originalFileName,BigPic:result.info.bigPic,BigPicUrl:result.info.bicPicUrl,SmallPicUrl:result.info.smallPicUrl,SmallPic:result.info.smallPic,BicPicTwoUrl:result.info.bicPicTwoUrl}),settings.onComplete(result)}else window.setTimeout(function(){0!=_upload.uploadStatus&&1!=_upload.uploadStatus||(_upload.uploadStatus=1,_upload.uploadFile(_upload.blob_end))},50)},_upload.uploadFile=function(e){if(console.log("开始上传"),!(e>=_upload.totalsize)){if(_upload.blob_start=e,_upload.blob_end=e+settings.slicesize,_upload.blob_end>settings.totalsize&&(_upload.blob_end=settings.totalsize),this.guidblob.slice)var t=_upload.guidblob.slice(_upload.blob_start,_upload.blob_end);else if(this.guidblob.webkitSlice)var t=_upload.guidblob.webkitSlice(_upload.blob_start,_upload.blob_end);else if(this.guidblob.mozSlice)var t=_upload.guidblob.mozSlice(_upload.blob_start,_upload.blob_end);var n=new FileReader;n.onload=function(e){var t=new XMLHttpRequest;t.addEventListener("progress",function(e){_upload.uploadProgress(e)},!1),t.addEventListener("load",function(e){_upload.uploadComplete(e)},!1),t.addEventListener("abort",function(e){_upload.uploadFile(_upload.blob_start)},!1),t.addEventListener("readystatechange",function(e){if(4==t.readyState&&200!=t.status)return _upload.uploadStatus=4,void settings.onFailed()},!1);var n="?";n=settings.uploadUrl.indexOf("?")<0?"?":"&",_upload.blob_end>_upload.totalsize&&(_upload.blob_end=_upload.totalsize),_upload.nextaction_paras?t.open("POST",settings.uploadUrl+n+"guid="+_upload.guid+"&minWidth="+settings.minWidth+"&mode="+settings.mode+"&minHeight="+settings.minHeight+"&totalSize="+_upload.totalsize+"&startSize="+_upload.blob_start+"&endSize="+_upload.blob_end+"&"+_upload.nextaction_paras+"&suffix="+settings.fileExt+"&sliceSize="+settings.slicesize):t.open("POST",settings.uploadUrl+n+"guid="+_upload.guid+"&minWidth="+settings.minWidth+"&mode="+settings.mode+"&minHeight="+settings.minHeight+"&totalSize="+_upload.totalsize+"&startSize="+_upload.blob_start+"&endSize="+_upload.blob_end+"&suffix="+settings.fileExt+"&sliceSize="+settings.slicesize),t.overrideMimeType("application/octet-stream"),t.setRequestHeader("Content-Type","application/json"),t.send(e.target.result)},n.readAsArrayBuffer(t)}},_upload};exports["default"]=upload,module.exports=exports["default"]},function(e,t){"use strict";function n(){for(var e="",t=1;t<=32;t++){var n=Math.floor(16*Math.random()).toString(16);e+=n,8!=t&&12!=t&&16!=t&&20!=t||(e+="-")}return e}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=window.HTMLCanvasElement&&window.HTMLCanvasElement.prototype,o=window.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),i=o&&window.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,a=(o||r)&&window.atob&&window.ArrayBuffer&&window.Uint8Array&&function(e){var t,n,a,l,s,d;for(t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURIComponent(e.split(",")[1]),n=new ArrayBuffer(t.length),a=new Uint8Array(n),l=0;l<t.length;l+=1)a[l]=t.charCodeAt(l);return s=e.split(",")[0].split(":")[1].split(";")[0],o?new Blob([i?a:n],{type:s}):(d=new r,d.append(n),d.getBlob(s))};window.HTMLCanvasElement&&!n.toBlob&&(n.mozGetAsFile?n.toBlob=function(e,t,o){e(o&&n.toDataURL&&a?a(this.toDataURL(t,o)):this.mozGetAsFile("blob",t))}:n.toDataURL&&a&&(n.toBlob=function(e,t,n){e(a(this.toDataURL(t,n)))})),t["default"]=a,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t=(e.naturalWidth,e.naturalHeight),n=document.createElement("canvas");n.width=1,n.height=t;var o=n.getContext("2d");o.drawImage(e,0,0);for(var i=o.getImageData(0,0,1,t).data,r=0,a=t,l=t;l>r;){var s=i[4*(l-1)+3];0===s?a=l:r=l,l=a+r>>1}var d=l/t;return 0===d?1:d},o=function(e,t,o,i,r,a,l,s,d,u){var p=n(t);e.drawImage(t,o,i,r,a,l,s,d,u/p)},i=function(e,t,n){var o,i,r=1,a=n.width,l=n.height;return i=e/a,o=t/l,0==e&&0==t?r=1:0==e?o<1&&(r=o):0==t?i<1&&(r=i):(i<1||o<1)&&(r=i<=o?i:o),r<1&&(a*=r,l*=r),{height:l,width:a}},r=function(e,t,n){console.log("图片压缩");var r=document.createElement("canvas"),a="auto"==t.width?0:t.width,l="auto"==t.height?0:t.height,s=i(a,l,e),d=r.width=s.width,u=r.height=s.height,p=r.getContext("2d");return o(p,e,0,0,e.width,e.height,0,0,d,u),e.src=n.imgData=r.toDataURL(t.fileTypeExts,t.quality)};t["default"]=r,e.exports=t["default"]},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t._imageRotation=t._getImgAngle=void 0;var i=n(11),r=o(i),a=n(12),l=o(a),s=function(e,t){var n=function(e){return"number"==typeof e?e:{rad:function(e){return e},deg:function(e){return Math.PI/180*e}}[String(e).match(/[a-z]+$/)[0]||"rad"](parseFloat(e))};(0,r["default"])(e,function(e){var o=l["default"].readFromBinaryFile(e.binaryResponse),i=o.Orientation;switch(i){case 1:t.angle="0deg";break;case 6:t.angle="90deg";break;case 3:t.angle="180deg";break;case 8:t.angle="270deg";break;default:t.angle="0deg"}t.angle=n(t.angle)})},d=function(e,t,n){console.log("旋转图片（调整为正向）");var o=e.width,i=e.height,r=Math.sin(t.angle),a=Math.cos(t.angle),l=Math.abs(r)*i+Math.abs(a)*o,s=Math.abs(a)*i+Math.abs(r)*o,d=document.createElement("canvas");d.width=l,d.height=s;var u=d.getContext("2d");return u.translate(l/2,s/2),u.rotate(t.angle),u.drawImage(e,-o/2,-i/2,o,i),t.imgData=d.toDataURL(n.fileTypeExts,1)};t._getImgAngle=s,t._imageRotation=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});/*
	* Binary Ajax 0.1.10
	* Copyright (c) 2008 Jacob Seidelin, cupboy@gmail.com, http://blog.nihilogic.dk/
	* Licensed under the MPL License [http://www.nihilogic.dk/licenses/mpl-license.txt]
	*/
var n=function(e,t,n){var o=e,i=t||0,r=0;this.getRawData=function(){return o},"string"==typeof e?(r=n||o.length,this.getByteAt=function(e){return 255&o.charCodeAt(e+i)},this.getBytesAt=function(e,t){for(var n=[],r=0;r<t;r++)n[r]=255&o.charCodeAt(e+r+i);return n}):"unknown"==typeof e&&(r=n||IEBinary_getLength(o),this.getByteAt=function(e){return IEBinary_getByteAt(o,e+i)},this.getBytesAt=function(e,t){return new VBArray(IEBinary_getBytesAt(o,e+i,t)).toArray()}),this.getLength=function(){return r},this.getSByteAt=function(e){var t=this.getByteAt(e);return t>127?t-256:t},this.getShortAt=function(e,t){var n=t?(this.getByteAt(e)<<8)+this.getByteAt(e+1):(this.getByteAt(e+1)<<8)+this.getByteAt(e);return n<0&&(n+=65536),n},this.getSShortAt=function(e,t){var n=this.getShortAt(e,t);return n>32767?n-65536:n},this.getLongAt=function(e,t){var n=this.getByteAt(e),o=this.getByteAt(e+1),i=this.getByteAt(e+2),r=this.getByteAt(e+3),a=t?(((n<<8)+o<<8)+i<<8)+r:(((r<<8)+i<<8)+o<<8)+n;return a<0&&(a+=4294967296),a},this.getSLongAt=function(e,t){var n=this.getLongAt(e,t);return n>2147483647?n-4294967296:n},this.getStringAt=function(e,t){for(var n=[],o=this.getBytesAt(e,t),i=0;i<t;i++)n[i]=String.fromCharCode(o[i]);return n.join("")},this.getCharAt=function(e){return String.fromCharCode(this.getByteAt(e))},this.toBase64=function(){return window.btoa(o)},this.fromBase64=function(e){o=window.atob(e)}},o=function(){function e(){var e=null;return window.ActiveXObject?e=new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest&&(e=new XMLHttpRequest),e}function t(t,n,o){var i=e();i?(n&&("undefined"!=typeof i.onload?i.onload=function(){"200"==i.status?n(this):o&&o(),i=null}:i.onreadystatechange=function(){4==i.readyState&&("200"==i.status?n(this):o&&o(),i=null)}),i.open("HEAD",t,!0),i.send(null)):o&&o()}function o(t,o,i,r,a,l){var s=e();if(s){var d=0;r&&!a&&(d=r[0]);var u=0;r&&(u=r[1]-r[0]+1),o&&("undefined"!=typeof s.onload?s.onload=function(){"200"==s.status||"206"==s.status||"0"==s.status?(s.binaryResponse=new n(s.responseText,d,u),s.fileSize=l||s.getResponseHeader("Content-Length"),o(s)):i&&i(),s=null}:s.onreadystatechange=function(){if(4==s.readyState){if("200"==s.status||"206"==s.status||"0"==s.status){var e={status:s.status,binaryResponse:new n("unknown"==typeof s.responseBody?s.responseBody:s.responseText,d,u),fileSize:l||s.getResponseHeader("Content-Length")};o(e)}else i&&i();s=null}}),s.open("GET",t,!0),s.overrideMimeType&&s.overrideMimeType("text/plain; charset=x-user-defined"),r&&a&&s.setRequestHeader("Range","bytes="+r[0]+"-"+r[1]),s.setRequestHeader("If-Modified-Since","Sat, 1 Jan 1970 00:00:00 GMT"),s.send(null)}else i&&i()}return function(e,n,i,r){r?t(e,function(t){var a,l,s=parseInt(t.getResponseHeader("Content-Length"),10),d=t.getResponseHeader("Accept-Ranges");a=r[0],r[0]<0&&(a+=s),l=a+r[1]-1,o(e,n,i,[a,l],"bytes"==d,s)}):o(e,n,i)}}();document.write("<script type='text/vbscript'>\r\nFunction IEBinary_getByteAt(strBinary, iOffset)\r\n\tIEBinary_getByteAt = AscB(MidB(strBinary, iOffset + 1, 1))\r\nEnd Function\r\nFunction IEBinary_getBytesAt(strBinary, iOffset, iLength)\r\n  Dim aBytes()\r\n  ReDim aBytes(iLength - 1)\r\n  For i = 0 To iLength - 1\r\n   aBytes(i) = IEBinary_getByteAt(strBinary, iOffset + i)\r\n  Next\r\n  IEBinary_getBytesAt = aBytes\r\nEnd Function\r\nFunction IEBinary_getLength(strBinary)\r\n\tIEBinary_getLength = LenB(strBinary)\r\nEnd Function\r\n</script>\r\n"),t["default"]=o,e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});/*
	* Javascript EXIF Reader 0.1.4
	* Copyright (c) 2008 Jacob Seidelin, cupboy@gmail.com, http://blog.nihilogic.dk/
	* Licensed under the MPL License [http://www.nihilogic.dk/licenses/mpl-license.txt]
	* Refer to https://github.com/exif-js/exif-js
	*/
var n={};!function(){function e(e){if(255!=e.getByteAt(0)||216!=e.getByteAt(1))return!1;for(var t=2,n=e.getLength();t<n;){if(255!=e.getByteAt(t))return r&&console.log("Not a valid marker at offset "+t+", found: "+e.getByteAt(t)),!1;var o=e.getByteAt(t+1);if(22400==o)return r&&console.log("Found 0xFFE1 marker"),i(e,t+4,e.getShortAt(t+2,!0)-2);if(225==o)return r&&console.log("Found 0xFFE1 marker"),i(e,t+4,e.getShortAt(t+2,!0)-2);t+=2+e.getShortAt(t+2,!0)}}function t(e,t,n,i,a){for(var l=e.getShortAt(n,a),s={},d=0;d<l;d++){var u=n+12*d+2,p=i[e.getShortAt(u,a)];!p&&r&&console.log("Unknown tag: "+e.getShortAt(u,a)),s[p]=o(e,u,t,n,a)}return s}function o(e,t,n,o,i){var r=e.getShortAt(t+2,i),a=e.getLongAt(t+4,i),l=e.getLongAt(t+8,i)+n;switch(r){case 1:case 7:if(1==a)return e.getByteAt(t+8,i);for(var s=a>4?l:t+8,d=[],u=0;u<a;u++)d[u]=e.getByteAt(s+u);return d;case 2:var p=a>4?l:t+8;return e.getStringAt(p,a-1);case 3:if(1==a)return e.getShortAt(t+8,i);for(var s=a>2?l:t+8,d=[],u=0;u<a;u++)d[u]=e.getShortAt(s+2*u,i);return d;case 4:if(1==a)return e.getLongAt(t+8,i);for(var d=[],u=0;u<a;u++)d[u]=e.getLongAt(l+4*u,i);return d;case 5:if(1==a)return e.getLongAt(l,i)/e.getLongAt(l+4,i);for(var d=[],u=0;u<a;u++)d[u]=e.getLongAt(l+8*u,i)/e.getLongAt(l+4+8*u,i);return d;case 9:if(1==a)return e.getSLongAt(t+8,i);for(var d=[],u=0;u<a;u++)d[u]=e.getSLongAt(l+4*u,i);return d;case 10:if(1==a)return e.getSLongAt(l,i)/e.getSLongAt(l+4,i);for(var d=[],u=0;u<a;u++)d[u]=e.getSLongAt(l+8*u,i)/e.getSLongAt(l+4+8*u,i);return d}}function i(e,o,i){if("Exif"!=e.getStringAt(o,4))return r&&console.log("Not valid EXIF data! "+e.getStringAt(o,4)),!1;var a,l=o+6;if(18761==e.getShortAt(l))a=!1;else{if(19789!=e.getShortAt(l))return r&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;a=!0}if(42!=e.getShortAt(l+2,a))return r&&console.log("Not valid TIFF data! (no 0x002A)"),!1;if(8!=e.getLongAt(l+4,a))return r&&console.log("Not valid TIFF data! (First offset not 8)",e.getShortAt(l+4,a)),!1;var s=t(e,l,l+8,n.TiffTags,a);if(s.ExifIFDPointer){var d=t(e,l,l+s.ExifIFDPointer,n.Tags,a);for(var u in d){switch(u){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":d[u]=n.StringValues[u][d[u]];break;case"ExifVersion":case"FlashpixVersion":d[u]=String.fromCharCode(d[u][0],d[u][1],d[u][2],d[u][3]);break;case"ComponentsConfiguration":d[u]=n.StringValues.Components[d[u][0]]+n.StringValues.Components[d[u][1]]+n.StringValues.Components[d[u][2]]+n.StringValues.Components[d[u][3]]}s[u]=d[u]}}if(s.GPSInfoIFDPointer){var p=t(e,l,l+s.GPSInfoIFDPointer,n.GPSTags,a);for(var u in p){switch(u){case"GPSVersionID":p[u]=p[u][0]+"."+p[u][1]+"."+p[u][2]+"."+p[u][3]}s[u]=p[u]}}return s}var r=!1;n.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},n.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},n.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},n.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},n.readFromBinaryFile=function(t){return e(t)}}(),t["default"]=n,e.exports=t["default"]}])});